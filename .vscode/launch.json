{
    "configurations": [
        {
            "name": "QEMU - Attach LLDB",
            "type": "lldb",
            "request": "custom",
            "targetCreateCommands": [
                "target create ${workspaceFolder}/target/armv7a-none-eabi/debug/kernel"
            ],
            "processCreateCommands": [
                "gdb-remote localhost:1234"
            ],
        },
        {
            "name": "QEMU - Attach GDB",
            "type": "cortex-debug",
            "request": "attach",
            "gdbPath": "arm-none-eabi-gdb",
            "servertype": "external",
            "gdbTarget": "localhost:1234",
            "executable": "${workspaceFolder}/target/armv7a-none-eabi/debug/kernel",
        },
        {
            "name": "ZYNQ - Launch GDB",
            "type": "cortex-debug",
            "request": "launch",
            "gdbPath": "arm-none-eabi-gdb",
            "servertype": "external",
            "gdbTarget": "localhost:3000",
            "executable": "${workspaceFolder}/target/armv7a-none-eabi/debug/kernel",
            "breakAfterReset": true,
            // "preLaunchCommands": [
            //     "set scheduler-locking step",
            //     "set schedule-multiple on",
            //     "add-inferior -exec ${workspaceFolder}/target/armv7a-none-eabi/debug/kernel",
            //     "inferior 2",
            //     "attach 2",
            //     "set $pc = *hello_world::_start",
            //     "inferior 1",
            // ],
        },
        {
            "name": "ZYNQ - Attach GDB",
            "type": "cortex-debug",
            "request": "attach",
            "gdbPath": "arm-none-eabi-gdb",
            "servertype": "external",
            "gdbTarget": "localhost:3000",
            "executable": "${workspaceFolder}/target/armv7a-none-eabi/debug/kernel",
            "breakAfterReset": true,
        }
    ]
}